import json

outcome_list = [{'candidates': ['38057aae-6b81-4769-a2ee-71a4b5ac67b3',
   'b223e845-6a5e-4259-9490-34b190f133ec'],
  'edges': {'Destination': ['E0640'], 'Person': ['E0650']},
  'event_label': 'Movement.TransportPerson',
  'represent_event_id': 'VM994853.000212'},
 {'candidates': ['16663cd7-480e-4700-a8a3-5a37368d8b65'],
  'edges': {'Agent': ['E0635'],
   'Destination': ['E0616'],
   'Person': ['NIL142.996075']},
  'event_label': 'Movement.TransportPerson',
  'represent_event_id': 'VM996075.000196'},
 {'candidates': [],
  'edges': {'Destination': ['E0635'], 'Person': ['E0623']},
  'event_label': 'Movement.TransportPerson',
  'represent_event_id': 'VM994926.000032'},
 {'candidates': [],
  'edges': {'Destination': ['E0627'],
   'Instrument': ['NIL1495.994853'],
   'Person': ['E0650']},
  'event_label': 'Movement.TransportPerson',
  'represent_event_id': 'VM994853.001449'},
 {'candidates': [],
  'edges': {'Agent': ['E0632'],
   'Destination': ['NIL184.995305'],
   'Origin': ['E0640'],
   'Person': ['E0613'],
   'Time': ['E0667']},
  'event_label': 'Movement.TransportPerson',
  'represent_event_id': 'VM995305.000362'},
 {'candidates': [],
  'edges': {'Agent': ['E0635'],
   'Destination': ['E0616'],
   'Person': ['NIL142.996075']},
  'event_label': 'Movement.TransportPerson',
  'represent_event_id': 'VM996075.000159'},
 {'candidates': [],
  'edges': {'Destination': ['E0640'], 'Person': ['E0650']},
  'event_label': 'Movement.TransportPerson',
  'represent_event_id': 'VM994853.000149'},
 {'candidates': [],
  'edges': {'Agent': ['E0650'],
   'Place': ['NIL128.994909'],
   'Victim': ['NIL105.994909']},
  'event_label': 'Existence.DamageDestroy',
  'represent_event_id': 'VM994909.000032'},
 {'candidates': [],
  'edges': {'Employee': ['E0623'], 'Organization': ['E0634']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM994683.000906'},
 {'candidates': ['49eeb25b-64fa-44cb-914c-d0105947b9ac',
   'b9e542eb-8e71-428a-a71f-d86ba1639391'],
  'edges': {'Employee': ['E0634'], 'Organization': ['E0632']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM995326.000425'},
 {'candidates': ['7d09a40c-af9d-49ea-8585-8fc0baf3090d'],
  'edges': {'Employee': ['E0623'], 'Organization': ['E0636']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM995328.000014'},
 {'candidates': [],
  'edges': {'Employee': ['E0632'], 'Organization': ['E0636']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM994995.000014'},
 {'candidates': [],
  'edges': {'Employee': ['E0623'], 'Organization': ['E0636']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM994893.000014'},
 {'candidates': ['14f0c24e-1def-4ab3-a97b-b688d8b2f7dc',
   '249fe2aa-0c90-482d-81d5-9e67c8300550',
   '4eefc968-053d-4f5a-a74f-8d12d0e5cae3',
   '919467c2-2b36-4749-a7bb-74b2c98b3201',
   'de82fbc9-c556-403e-9885-e95ba2af4d5a',
   '4c0441ee-8211-445b-8345-eb8335ea8656',
   '45810d05-e807-418b-8c43-d5ed1b6315d1',
   '9c3ca25d-0266-459f-a3e5-627cbd00b66a'],
  'edges': {'Employee': ['E0625'], 'Organization': ['E0630']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM994958.000469'},
 {'candidates': [],
  'edges': {'Employee': ['E0623'], 'Organization': ['E0636']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM994683.000014'},
 {'candidates': [],
  'edges': {'Employee': ['E0625'], 'Organization': ['E0636']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM994711.000596'},
 {'candidates': [],
  'edges': {'Employee': ['E0623'], 'Organization': ['E0632']},
  'event_label': 'OrganizationAffiliation.EmploymentMembership',
  'represent_event_id': 'RM994683.000345'},
 {'candidates': [],
  'edges': {'Affiliate': ['NIL67.994942'], 'Affiliation': ['E0632']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994942.000894'},
 {'candidates': ['37a875f0-411f-4d7d-9fe0-cd3ea0c3a799'],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['E0645']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994961.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0669'], 'Affiliation': ['E0623']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994683.001193'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['E0632']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM995325.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0627'], 'Affiliation': ['E0650']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM995315.000014'},
 {'candidates': ['b04a31b6-0f72-452c-895e-fe4d17803d97',
   'b61c4f0a-2b47-47d6-833e-7cbffb6364e0'],
  'edges': {'Affiliate': ['NIL54.994832'], 'Affiliation': ['E0635']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994832.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['E0635']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994852.000095'},
 {'candidates': ['1ace4dd6-bbf6-4864-b9fe-625c88f4ba47'],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['E0613']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994978.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0627'], 'Affiliation': ['E0632']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM995313.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['NIL67.994852']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994852.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['NIL80.994968'], 'Affiliation': ['NIL132.994968']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994968.000233'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['NIL80.994813']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994813.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['NIL71.994785'], 'Affiliation': ['E0625']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994785.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['NIL80.994813']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994813.000155'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['NIL67.994852']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994852.000258'},
 {'candidates': [],
  'edges': {'Affiliate': ['NIL67.994942'], 'Affiliation': ['E0632']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994942.000925'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0674'], 'Affiliation': ['E0632']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994682.000014'},
 {'candidates': [],
  'edges': {'Affiliate': ['E0627'], 'Affiliation': ['NIL106.994968']},
  'event_label': 'GeneralAffiliation.APORA',
  'represent_event_id': 'RM994968.000014'},
 {'candidates': [],
  'edges': {'Audience': ['E0623', 'NIL67.994786'],
   'Broadcaster': ['NIL80.994786'],
   'Place': ['E0640']},
  'event_label': 'Contact.Broadcast',
  'represent_event_id': 'VM994786.000032'},
 {'candidates': [],
  'edges': {'Audience': ['E0623'],
   'Broadcaster': ['E0630'],
   'Place': ['E0640']},
  'event_label': 'Contact.Broadcast',
  'represent_event_id': 'VM994910.000032'},
 {'candidates': ['3e12c3ad-656d-4d63-938f-be38042b18d2',
   '03c61e9f-d5a4-42da-bd30-187ec326c26d'],
  'edges': {'Entity': ['E0636'], 'Place': ['E0618']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994958.000377'},
 {'candidates': ['8d092615-bd24-4bc3-b57f-63d3c16d3d4a'],
  'edges': {'Entity': ['E0636'], 'Place': ['E0640']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994861.000869'},
 {'candidates': [],
  'edges': {'Entity': ['NIL83.994790'], 'Place': ['E0618']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994790.000014'},
 {'candidates': [],
  'edges': {'Entity': ['NIL67.994676'], 'Place': ['E0640']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994676.000014'},
 {'candidates': ['fbdf6ad5-95d6-4dfe-a608-83e09361fb91'],
  'edges': {'Entity': ['E0636'], 'Place': ['E0626']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994861.000014'},
 {'candidates': [],
  'edges': {'Entity': ['E0672'], 'Place': ['E0626']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994917.000188'},
 {'candidates': ['c600a415-77a0-4094-9a08-bba159b56097'],
  'edges': {'Entity': ['E0613'], 'Place': ['E0627']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994949.000014'},
 {'candidates': ['da5c2ada-b37b-4de4-96a7-0431815a89b7',
   'f7a853e9-1a5f-47d4-9498-2fb68457dd7f'],
  'edges': {'Entity': ['E0632'], 'Place': ['E0640']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994833.000014'},
 {'candidates': [],
  'edges': {'Entity': ['E0623'], 'Place': ['E0626']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM994977.000014'},
 {'candidates': [],
  'edges': {'Entity': ['E0611'], 'Place': ['E0626']},
  'event_label': 'Physical.LocatedNear',
  'represent_event_id': 'RM995327.000903'},
 {'candidates': ['c8a1f92b-ee33-4b0c-8545-8fdf5ff071f8'],
  'edges': {'Attacker': ['NIL400.994868'],
   'Instrument': ['NIL124.994868'],
   'Place': ['E0626'],
   'Target': ['E0613'],
   'Time': ['NIL80.994868']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994868.000329'},
 {'candidates': ['fa85d6b1-1054-41bc-9e60-efed9e285f18'],
  'edges': {'Attacker': ['E0644'], 'Place': ['E0626'], 'Target': ['E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994694.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['NIL106.994968', 'NIL93.994968'],
   'Place': ['E0627'],
   'Target': ['NIL132.994968']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994968.000032'},
 {'candidates': ['769f042d-74c5-49f2-9ed6-57a73b5c8a9f',
   '143aebe6-c8a3-42df-ac16-529844cc5262'],
  'edges': {'Instrument': ['NIL102.994929'],
   'Place': ['E0640'],
   'Target': ['NIL475.994929']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994929.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'], 'Instrument': ['E0674', 'NIL850.994719']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994719.000794'},
 {'candidates': [],
  'edges': {'Attacker': ['E0641'], 'Place': ['E0640']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM991004.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613'], 'Target': ['E0632', 'E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995313.000032'},
 {'candidates': ['788d41ce-2fd4-4e4b-82e1-ed90dcddd192'],
  'edges': {'Attacker': ['E0613'],
   'Place': ['E0626', 'E0627'],
   'Target': ['E0632'],
   'Time': ['NIL132.994892']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994892.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613', 'E0632'], 'Place': ['E0626']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995319.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'], 'Target': ['E0632', 'E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995317.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613', 'E0647'],
   'Place': ['E0627'],
   'Target': ['E0636', 'E0632'],
   'Time': ['NIL1342.994711']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994711.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'],
   'Instrument': ['NIL158.994750'],
   'Place': ['E0627'],
   'Target': ['E0614']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994750.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0632'],
   'Instrument': ['E0669', 'NIL272.994949'],
   'Place': ['E0626'],
   'Target': ['E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994949.000032'},
 {'candidates': [],
  'edges': {'Place': ['E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995306.000128'},
 {'candidates': [],
  'edges': {'Attacker': ['E0644'], 'Target': ['E0614']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994735.000155'},
 {'candidates': [],
  'edges': {'Place': ['E0627'], 'Target': ['NIL54.994797']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994797.000084'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'],
   'Instrument': ['NIL158.994750'],
   'Place': ['E0626'],
   'Target': ['E0627', 'E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994750.001239'},
 {'candidates': [],
  'edges': {'Attacker': ['E0632'],
   'Place': ['E0626', 'E0627'],
   'Target': ['NIL119.994892'],
   'Time': ['NIL132.994892']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994892.000164'},
 {'candidates': [],
  'edges': {'Attacker': ['E0633', 'NIL1324.995315'],
   'Place': ['E0627'],
   'Target': ['E0617']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995315.000109'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613'], 'Place': ['E0627'], 'Target': ['E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994810.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0634', 'NIL106.994981'],
   'Place': ['E0626'],
   'Target': ['E0629']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994981.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0632'],
   'Instrument': ['NIL124.994868'],
   'Place': ['E0626'],
   'Target': ['E0613'],
   'Time': ['NIL80.994868']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994868.000348'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613'], 'Place': ['E0640'], 'Target': ['E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994882.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0632'],
   'Place': ['E0627'],
   'Target': ['NIL80.995330']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995330.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'],
   'Place': ['E0627'],
   'Target': ['NIL80.995315']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995315.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0632'], 'Target': ['E0613']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995326.000393'},
 {'candidates': [],
  'edges': {'Target': ['E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995295.000188'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613'], 'Place': ['E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994951.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'], 'Place': ['E0627'], 'Target': ['E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995318.000137'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'], 'Place': ['E0626'], 'Target': ['E0614']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994988.000032'},
 {'candidates': [],
  'edges': {'Place': ['E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995306.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613'], 'Place': ['E0627'], 'Target': ['E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994951.001281'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650', 'E0632'], 'Place': ['E0626']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995291.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0632'], 'Target': ['E0650', 'E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994682.000123'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'], 'Place': ['E0626'], 'Target': ['E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994987.000119'},
 {'candidates': [],
  'edges': {'Attacker': ['E0648'], 'Target': ['E0627']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995295.000159'},
 {'candidates': [],
  'edges': {'Attacker': ['E0632'], 'Place': ['E0626'], 'Target': ['E0613']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM995321.000032'},
 {'candidates': [],
  'edges': {'Place': ['E0627'], 'Target': ['NIL54.994797']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994797.000032'},
 {'candidates': [],
  'edges': {'Place': ['E0627'], 'Target': ['NIL1322.994853']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994853.000297'},
 {'candidates': [],
  'edges': {'Attacker': ['E0650'], 'Place': ['E0627'], 'Target': ['E0614']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994852.000032'},
 {'candidates': [],
  'edges': {'Attacker': ['E0613', 'E0632'],
   'Instrument': ['E0670'],
   'Place': ['E0640'],
   'Target': ['E0613', 'E0632']},
  'event_label': 'Conflict.Attack',
  'represent_event_id': 'VM994833.000032'}]

with open('/home/giacomo/Scrivania/evaluation/pipeline_outcome_TA2bis_linking/Yang_Python/relaxedMatchResults_coref2.json') as f:
 outcome_list = json.load(f)

filtered_list = list(filter(lambda x : len(x['candidates']) > 0, outcome_list))

ta2_to_ldc = {y : [] for x in filtered_list for y in x['candidates']}
ldc_to_ta2 = {x['represent_event_id'] : [] for x in filtered_list}
for event in filtered_list:
    ldc_to_ta2[event['represent_event_id']].extend(event['candidates'])
    for y in event['candidates']:
        ta2_to_ldc[y].append(event['represent_event_id'])

with open('/home/giacomo/Scrivania/evaluation/linking/linking_outcome_coref2.json', 'w') as outfile:
         json.dump(ta2_to_ldc, outfile)

#print(ta2_to_ldc)
#for x in ta2_to_ldc.values():
#	for y in x:
#		print("('"+y+"'),")
